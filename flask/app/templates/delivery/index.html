{% extends "layout.html" %}
{% block content %}
{% include "navbar.html" %}

<!-- alert goes here -->
{% include "_flashing.html" -%}
<div class="container max-w-5xl mx-auto mt-5">

    <p class="font-bold text-lg mb-5">配送関連依頼の一覧</p>
        <table class="table-auto my-5">
            <form action="/ripelawn/delivery_request" method="POST">

        <thead>
            <tr>
                <th class="border-black border-b px-4 py-2">依頼日</th>
                <th class="border-black border-b px-4 py-2">配送先名</th>
                <th class="border-black border-b px-4 py-2">商品</th>
                <th class="border-black border-b px-4 py-2">数量</th>
                <th class="border-black border-b px-4 py-2">指定日</th>
                <th class="border-black border-b px-4 py-2">時間帯</th>
                <th class="border-black border-b px-4 py-2">SF→RL</th>
                <th class="border-black border-b px-4 py-2">RL→SF</th>
                <th class="border-black border-b px-4 py-2">RL確認</th>

            </tr>
        </thead>

        {% for request in requests %}
        <tr>
            <td class="border-b px-4 py-1">{{ request.created_at.strftime('%m-%d') }}</td>
            <td class="border-b px-4 py-1">{{ request.product_order.shop.name }}</td>
            <td class="border-b px-4 py-1">{{ request.product_order.product.name[10:] }}</td>
            <td class="border-b px-4 py-1">{{ request.product_order.qty }}</td>
            <td class="border-b px-4 py-1">
                {% if request.delivery_date %}
                {{ request.delivery_date.strftime('%m-%d') }}
                {% endif %}
            </td>
            <td class="border-b px-4 py-1">{{ request.time_range or '' }}</td>
            <td class="border-b px-4 py-1">{{ request.memo or '' }}</td>
            <td class="border-b px-4 py-1">{{ request.reply or '' }}</td>
            <td class="border-b px-4 py-1">
                {% if request.checked == 1 %}
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                {% endif %}
            </td>
         </tr>

        {% endfor %}
            </form>

    </table>
</div>
{% endblock %}
